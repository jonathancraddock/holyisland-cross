<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Holy Island Pilgrim's Way</title>

<link rel="icon" type="image/png" href="/user/themes/mootparadox/images/favicon.png">
<link rel="canonical" href="https://mootparadox.com/webapp/pilgrim">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="./pilgrim.css">

<script>
  const Http=new XMLHttpRequest()
  const url='https://mootparadox.com/load?page=/webapp/pilgrim&query=';
  Http.open("GET",url);Http.send();
</script>

</head>
<body>
<section class="section">
<div class="container">
<h1 class="title">Pilgrim's Way Calculator</h1>

<div class="block">
  <p>Walk the <strong>Pilgrim's Way</strong> to Holy Island, Northumberland, with the help of my crossing calculator! View the times for any date, or use the <em>filter</em> button to refine your search. For example: if you want to find crossing times on Saturday and Sunday afternoons, after 2pm, for the next three weeks... and so on. <span id="tideDateRange"></span></p>
  <p><strong>Disclaimer: This information is provided in good faith, but you are responsible for your own safety. (Obviously!)</strong></p>
</div>

<div class="block">
  <div class="field">
    <label id="dateSelectField" class="label">Crossing Date</label>
    <div class="field is-grouped">
      <div class="control is-expanded has-icons-left">
        <input class="input" type="date" id="crossingDate">
        <span class="icon is-small is-left">
          <i class="fas fa-calendar"></i>
        </span>
      </div>
      <div class="control">
        <button id="filterButton" class="button is-success">
          Filter
        </button>
      </div>
    </div>
  </div>
</div>

<div class="block">
  <div id="dateNavigation" class="has-text-centered" style="display: none;">
    <div class="field is-grouped is-grouped-centered">
      <div class="control">
        <button id="prevDate" class="button">
          <span class="icon"><i class="fas fa-chevron-left"></i></span>
          <span>Previous Day</span>
        </button>
      </div>
      <div class="control">
        <button id="todayDate" class="button">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Today</span>
        </button>
      </div>
      <div class="control">
        <button id="nextDate" class="button">
          <span>Next Day</span>
          <span class="icon"><i class="fas fa-chevron-right"></i></span>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="block">
  <div id="crossingResults">
  <!-- Crossing times table will appear here -->
  </div>
</div>

<div class="block">
  <div id="daylightInfo">
  <!-- Daylight information will appear here -->
  </div>
</div>

<div class="block">
  <p>The Pilgrim's Way crosses Holy Island Sands and should only be attempted during the latter part of a receding tide. Always check current weather conditions before attempting the crossing.</p>
  <ul>
  <li>Belvue's <a href="https://holy-island.uk/how-to-walk-the-pilgrims-way-to-holy-island-minding-tide-times/" target="_blank">Walking Guide</a></li>
  <li>Holy Island <a href="https://holyislandcrossingtimes.northumberland.gov.uk/" target="_blank">Crossing Times</a></li>
  <li>Yr.No/En <a href="https://www.yr.no/en/forecast/daily-table/2-11610810/" target="_blank">weather forecast</a></li>
  <li>Wikipedia <a href="https://en.wikipedia.org/wiki/Lindisfarne" target="_blank">Holy Island / Lindisfarne</a></li>
  <li>Croft Cabs (Belford): 07803 496 278</li>
  </ul>
  <h2 class="subtitle">How it works</h2>
  <p>I've used the data provided by Northumberland council and have pre-calculated the <em>midpoint</em> of each causeway safe crossing time. By subtracting 90 minutes from this, you can calculate an optimal start time to walk the Pilgrim's Way.</p>
</div>

</div>

</section>

<!-- Advanced Filter Modal -->
<div id="filterModal" class="modal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Holy Island Pilgrim's Way</p>
      <button class="delete" aria-label="close"></button>
    </header>
    <section class="modal-card-body">
      <div class="field">
        <p class="help">If you have specific weekday and timing requirements for your <em>Pilgrim's Way</em> crossing, use the filters below to refine your search.</p>
      </div>

      <div class="columns">
        <div class="column">
          <div class="field">
            <label class="label">Search From:</label>
            <div class="control">
              <input class="input" type="date" id="dateFrom">
            </div>
          </div>
        </div>
        <div class="column">
          <div class="field">
            <label class="label">Search Until:</label>
            <div class="control">
              <input class="input" type="date" id="dateUntil">
            </div>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="label">Preferred Days</label>
        <p class="help">Select your preferred days.</p>
        <div class="field is-grouped is-grouped-multiline">
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-mon" value="1"> Monday
            </label>
          </div>
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-tue" value="2"> Tuesday
            </label>
          </div>
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-wed" value="3"> Wednesday
            </label>
          </div>
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-thu" value="4"> Thursday
            </label>
          </div>
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-fri" value="5"> Friday
            </label>
          </div>
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-sat" value="6"> Saturday
            </label>
          </div>
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" id="day-sun" value="0"> Sunday
            </label>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="label">Preferred Time</label>
        <div class="columns">
          <div class="column">
            <div class="field">
              <label class="label is-small">Earliest Start Time:</label>
              <div class="control">
                <input class="input" type="time" id="timeFrom" value="09:00">
              </div>
            </div>
          </div>
          <div class="column">
            <div class="field">
              <label class="label is-small">Latest Start Time:</label>
              <div class="control">
                <input class="input" type="time" id="timeUntil" value="17:00">
              </div>
            </div>
          </div>
        </div>
        <p class="help">Use <em>Search</em> to find available crossings that begin within your preferred time range.</p>
      </div>

      <!-- Results section (initially hidden) -->
      <div id="searchResults" class="box" style="display: none;">
        <div class="level">
          <div class="level-left">
            <div class="level-item">
              <div>
                <p class="heading">Next Available Crossing</p>
                <p class="title is-4" id="resultDate">-</p>
                <p class="subtitle" id="resultDetails">-</p>
              </div>
            </div>
          </div>
          <div class="level-right">
            <div class="level-item">
              <div class="field is-grouped">
                <p class="control">
                  <button class="button" id="prevResult" disabled>
                    <span class="icon"><i class="fas fa-chevron-left"></i></span>
                    <span>Previous</span>
                  </button>
                </p>
                <p class="control">
                  <button class="button" id="nextResult" disabled>
                    <span>Next</span>
                    <span class="icon"><i class="fas fa-chevron-right"></i></span>
                  </button>
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="has-text-centered">
          <p class="help" id="resultCount">-</p>
        </div>
      </div>
    </section>
    <footer class="modal-card-foot">
      <button class="button is-success" id="searchButton">
        <span class="icon"><i class="fas fa-search"></i></span>
        <span>Search</span>
      </button>
      <button class="button is-info" id="viewResult" style="display: none;">
        <span class="icon"><i class="fas fa-eye"></i></span>
        <span>View This Date</span>
      </button>
      <button class="button" id="cancelFilter">Cancel</button>
    </footer>
  </div>
</div>

<div class="footer-bar">
  <footer class="footer has-background-light">
    <div class="content has-text-centered">
      <p>
        <i class="fas fa-globe"></i> <a href="https://mootparadox.com" target="_blank">mootParadox</a> | 
        <i class="fab fa-github"></i> <a href="https://github.com/jonathancraddock/holyisland-cross/tree/main" target="_blank">GitHub</a>
      </p>
    </div>
  </footer>
</div>

<script src="./pilgrim.js"></script>

</body>
</html>    